function Tools(){}function Fmt(){}function GlobalSettings(n,t,i,r,u,f,e,o,s,h,c){ebs.AnimateIcons();SetDataTable(n,t,i,c);r&&(ebs.SetDateMask("#de"),ebs.SetDateMask("#ate"),f?$("#de").change(function(){DownloadFalse();$("#anos").val("0");this.form.submit()}):$("#de").change(function(){DownloadFalse();this.form.submit()}),f?$("#ate").change(function(){DownloadFalse();$("#anos").val("0");this.form.submit()}):ebs.SelectWhenChangeSubmit("#ate",!0),ebs.Set_DatePicker());var l;e!==""&&(l=e==="C"?"clientes":"fornecedores",ebs.PopDropDown(l,[{tipo:e}]),ebs.SelectWhenChangeSubmit("#"+l,!0));o!==""&&(l="categorias",ebs.PopDropDown(l,[{tipo:o}]),ebs.SelectWhenChangeSubmit("#"+l,!0));s&&(ebs.PopDropDown("responsaveis",""),ebs.SelectWhenChangeSubmit("#responsaveis",!0));u&&ebs.SelectWhenChangeSubmit("#meses",!1);f&&$("#anos").change(function(){r&&ClearDeAte();this.form.submit()});h&&ebs.SelectWhenChangeSubmit("#situacao",!1)}function SetDataTable(n,t,i,r){var u;r?(u=$(n).DataTable({bInfo:!1,scrollY:t,scrollX:!1,order:[i],paging:!1,searching:!1,language:{emptyTable:"<div class='naocadastrado'><span>Nenhum item cadastrado<\/span><\/div>",zeroRecords:"<div class='naocadastrado'><span>Nenhum item cadastrado<\/span><\/div>"},drawCallback:function(){UpdateTotal()}}),u.columns.adjust().draw()):(u=$(n).DataTable({info:!1,scrollY:t,scrollX:!1,order:[i],paging:!1,searching:!1,language:{emptyTable:"<div class='naocadastrado'><span>Nenhum item cadastrado<\/span><\/div>",zeroRecords:"<div class='naocadastrado'><span>Nenhum item cadastrado<\/span><\/div>"}}),u.columns.adjust().draw());$("#loading").hide()}function ResetPwdConfirm(n,t){bootbox.confirm({message:"Resetar senha do usuário "+t+"?",buttons:{confirm:{label:"Sim",className:"btn-success"},cancel:{label:"Não",className:"btn-danger"}},callback:function(t){t===!0&&ResetPwd(n)}})}function ResetPwd(n){$.ajax({cache:!1,type:"POST",url:"/Usuarios/ResetPwd",data:{id:n},success:function(){msg("Senha resetada com sucesso");window.setTimeout("location.reload()",2e3)},error:function(){msg("Falha ao resetar senha")}})}function Download(){$("#download").val("true")}function DownloadFalse(){$("#download").val("false")}function ArquivarPagamento(n){$.ajax({cache:!1,type:"POST",url:"/ContaPrs/ArquivarPagamento",data:{id:n},success:function(){msg("Lançamento arquivado com sucesso");window.setTimeout("location.reload()",2e3)},error:function(){msg("Falha ao confirmar pagamento")}})}function DisableField(n){$("#"+n).prop("disabled",!0)}function EnableField(n){$("#"+n).prop("disabled",!1)}function ExcluirConfirm(n,t,i){var r="Confirma exclusão de "+n+" "+i;n==="bloquear"&&r==="Confirma bloqueio de "+i;n==="desbloquear"&&(r="Confirma desbloqueio de "+i);bootbox.confirm({message:r,buttons:{confirm:{label:"Sim",className:"btn-success"},cancel:{label:"Não",className:"btn-danger"}},callback:function(i){if(i===!0)switch(n.toLowerCase()){case"reembolso":Excluir("Reembolso","/Reembolsoes/ExcluirReembolso",t);break;case"contaapagar":Excluir("Conta a Pagar","/ContaPrs/ExcluirPagamento",t);break;case"contaareceber":Excluir("Conta a Receber","/ContaPrs/ExcluirPagamento",t);break;case"categoria":Excluir("Categoria","/Categorias/ExcluirCategoria",t);break;case"cliente":Excluir("Cliente","/Clientes/ExcluirCliente",t);break;case"fornecedor":Excluir("Fornecedor","/Clientes/ExcluirFornecedor",t);break;case"usuario":Excluir("Usuário","/Usuarios/ExcluirUsuario",t);break;case"produto":Excluir("Produto","/Produto/ExcluirProduto",t);break;case"proposta":Excluir("Proposta","/Propostas/ExcluirProposta",t);break;case"bloquear":Excluir("bloquear usuário","/Usuarios/Bloquear",t);break;case"desbloquear":Excluir("desbloquer usuário","/Usuarios/Desbloquear",t);break;case"notafiscalareceber":Excluir("Nota Fiscal","/ContaPrs/CancelarNotaFiscalAreceber",t);break;case"tiporeembolso":Excluir("Tipo Reembolso","/TiposReembolso/ExcluirTipoReembolso",t);break;case"remuneracao":Excluir("Remuneração","/Remuneracao/ExcluirRemuneracao",t);break;case"comercial":Excluir("Comercial","/Comercial/ExcluirComercial",t);break;case"indice":Excluir("Indice","/Indices/ExcluirIndice",t);break;case"tipocontrato":Excluir("Tipo Contrato","/TiposContratos/ExcluirTipocontrato",t);break;case"contrato":Excluir("contrato","/Contratos/ExcluirContrato",t)}}})}function msgsubmit(n,t){bootbox.alert({message:t,className:"bb-alternate-modal",size:"small",callback:function(){submitform(n)}})}function Excluir(n,t,i){var r="Sucesso ao excluir "+n,u="Falha ao ao excluir "+n;(n==="bloquear usuário"||n==="desbloquer usuário")&&(r="Sucesso ao  "+n,u="Falha ao  "+n);$.ajax({cache:!1,type:"POST",url:t,data:{id:i},success:function(){msg(r);window.setTimeout("location.reload()",2e3)},error:function(){msg(u)}})}function GetUsuarios(n){$.ajax({cache:!1,type:"POST",url:"/Usuarios/GetUsuarios",success:function(t){var i=$("#"+n);i.empty();i.append("<option><\/option>");$.each(t,function(n,t){i.append('<option value="'+t.id+'">'+t.nome+"<\/option>")})},error:function(){}})}function UpdateCategorias(n,t,i){$.ajax({cache:!1,type:"POST",url:"/ContaPRs/PopulateCategorias",data:{tipo:t,id:i},success:function(t){var i=$("#"+n);i.empty();i.append("<option><\/option>");$.each(t,function(n,t){i.append('<option value="'+t.categoriaid+'">'+t.nome+"<\/option>")})},error:function(){msg("Erro ao atualizar categorias")}})}function PopulatePropostasCliente(n,t,i){$.ajax({cache:!1,type:"POST",url:"/ContaPRs/PopulatePropostasCliente",data:{situacaoid:n,clienteid:t},success:function(n){var t=$("#propostaid"),r;i&&(t=$(i));t.empty();t.append("<option><\/option>");$.each(n,function(n,i){t.append('<option value="'+i.propostaid+'">'+i.descricao+"<\/option>")});r=$("select#propostaid option").length-1;r>0?($("#propostaid").show(),$("#semproposta").hide()):($("#propostaid").hide(),$("#semproposta").show())},error:function(){msg("Erro ao atualizar propostas clientes")}})}function PopulatePropostasClienteForContratos(n,t){$.ajax({cache:!1,type:"POST",url:"/Contratos/PopulatePropostasCliente",data:{situacaoid:n,clienteid:t},success:function(n){var t=$("#propostaid");t.empty();t.append("<option><\/option>");$.each(n,function(n,i){t.append('<option value="'+i.propostaid+'">'+i.descricao+"<\/option>")})},error:function(){msg("Erro ao atualizar propostas clientes")}})}function GetContatosCliente(n){$.ajax({cache:!1,type:"POST",url:"/Clientes/ShowContatos",data:{clienteid:n},success:function(n){var t=$("#propostaid");t.empty();t.append("<option><\/option>");$.each(n,function(n,i){t.append('<option value="'+i.propostaid+'">'+i.descricao+"<\/option>")})},error:function(){msg("Erro ao atualizar categorias")}})}function PopulatePerfis(n,t){$.ajax({cache:!1,type:"POST",url:"/Usuarios/PopulatePerfis",data:{tipo:t},success:function(t){var i=$("#"+n);i.empty();i.append("<option><\/option>");$.each(t,function(n,t){i.append('<option value="'+t.name+'">'+t.name+"<\/option>")})},error:function(){msg("Erro ao carregar Perfis")}})}function PopulateTiposReembolso(n){$.ajax({cache:!1,type:"POST",url:"/Reembolsoes/PopulateTiposReembolso",success:function(t){var i=$("#"+n);i.empty();i.append("<option><\/option>");$.each(t,function(n,t){i.append('<option value="'+t.tiporeembolsoid+'">'+t.nome+"<\/option>")})},error:function(){msg("Erro ao atualizar Tipos de Reembolso")}})}function PopulateProdutos(n){$.ajax({cache:!1,type:"POST",url:"/Produtos/PopulateProdutos",success:function(t){var i=$("#"+n);i.empty();i.append("<option><\/option>");$.each(t,function(n,t){i.append('<option value="'+t.produtoid+'">'+t.nome+"<\/option>")})},error:function(){msg("Erro ao atualizar lista de Produtos")}})}function PopulateTiposContrato(n){$.ajax({cache:!1,type:"POST",url:"/TiposContratos/PopulateTiposContrato",data:{},success:function(t){var i=$("#"+n);i.empty();i.append("<option><\/option>");$.each(t,function(n,t){i.append('<option value="'+t.id+'">'+t.nome+"<\/option>")})},error:function(){msg("Erro ao atualizar indices")}})}function UpdatePropostas(n,t){$.ajax({cache:!1,type:"POST",url:"/ContaPrs/GetPropostasCliente",data:{clienteid:n},success:function(n){var i=$("#"+t);i.empty();i.append("<option><\/option>");$.each(n,function(n,t){i.append('<option value="'+t.cliforid+'">'+t.nome+"<\/option>")})},error:function(){}})}function PopulatePropostasRemuneracao(n){$.ajax({cache:!1,type:"POST",url:"/Remuneracao/PopulatePropostasRemuneracao",data:{},success:function(t){var i=$("#"+n),r;i.empty();i.append("<option><\/option>");r=40;$.each(t,function(n,t){var r,u;n=pad(t.propostaid,3);r=parseFloat(t.valor,10).toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,").toString();r=r.replace(".","#");r=r.replace(",",".");r=r.replace("#",",");u=" Nº "+(n+"&nbsp;&nbsp;&nbsp;&nbsp;Cliente: "+t.cliente+"&nbsp;&nbsp;&nbsp;&nbsp;Descrição: "+t.descricao+"&nbsp;&nbsp;&nbsp;&nbsp;Valor: R$ "+r);i.append('<option value="'+t.propostaid+'">'+u+"<\/option>")})},error:function(){}})}function PopulatePropostasContrato(n,t){$.ajax({cache:!1,type:"POST",url:"/Contratos/PopulatePropostasCliente",data:{clienteid:t},success:function(t){var i=$("#"+n),r;i.empty();i.append("<option><\/option>");r=40;$.each(t,function(n,t){n=pad(t.propostaid,3);var r=parseFloat(t.valor,10).toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,").toString(),u=" Nº "+(n+"&nbsp;&nbsp;&nbsp;&nbsp;Descrição: "+t.descricao+"&nbsp;&nbsp;&nbsp;&nbsp;Categoria: "+t.categoria+"&nbsp;&nbsp;&nbsp;&nbsp;Valor: R$ "+r);i.append('<option value="'+t.propostaid+'">'+u+"<\/option>")})},error:function(){}})}function FormatSelect(){var n=0,t;$("#proposta option").each(function(){var t=$(this).text().length;t>n&&(n=t)});t=n+5;$("#proposta option").each(function(){for(var n=$(this).text().split(";"),r=n[0].length,i=0;i<t-r;i++)n[0]=n[0]+" ";$(this).text(n[0].replace(/ /g," ")+"+"+n[1]).text})}function pad(n,t){return n=n.toString(),n.length<t?pad("0"+n,t):n}function PopulateComercialRemuneracao(n){$.ajax({cache:!1,type:"POST",url:"/Remuneracao/PopulateComercialRemuneracao",data:{},success:function(t){var i=$("#"+n);i.empty();i.append("<option><\/option>");$.each(t,function(n,t){i.append('<option value="'+t.id+'">'+t.nome+"<\/option>")})},error:function(){}})}function PopulateDropDownCliFor(n,t,i){var r=i;$.ajax({cache:!1,type:"POST",url:r,data:{tipo:n},success:function(n){var i=$("#"+t);i.empty();i.append("<option><\/option>");$.each(n,function(n,t){i.append('<option value="'+t.cliforid+'">'+t.nome+"<\/option>")})},error:function(){}})}function PopulateDropDownResponsaveis(n,t){var i=t;$.ajax({cache:!1,type:"POST",url:i,success:function(t){var i=$("#"+n);i.empty();i.append("<option><\/option>");$.each(t,function(n,t){i.append('<option value="'+t.Id+'">'+t.Nome+"<\/option>")})},error:function(){}})}function RemoveFiltersCr(){$("#de").val("");$("#ate").val("");$("#categorias").val("");$("#fornecedores").val("");$("#responsaveis").val("");SetDropDownValue("0","anos");SetDropDownValue("1","situacao");submitform("ApagarAnalitico")}function RemoveFilters(){$("#de").val("");$("#ate").val("");SetDropDownValue("0","anos");$("#categorias").val("");$("#fornecedores").val("");SetDropDownValue("0","situacao");submitform("ApagarAnalitico")}function SetDropDownValue(n,t){setTimeout(function(){index=0;$("#"+t+" option").each(function(){$(this).val().trim()===n&&$(this).attr("selected","selected")})},1500)}function SetSelectIndex(n,t){var i=n;i!==""&&SetDropDownValue(i,t)}function ShowContasProposta(n){var t="#contas_"+n;$(t).empty();$(t).load("/Propostas/ShowContasProposta",{propostaid:n,viewName:"_Lancamentos"})}function Imprime(){var n=new Date,t=n.getMonth()+1,i=n.getDate(),r=(i<10?"0":"")+i+"/"+(t<10?"0":"")+t+"/"+n.getFullYear(),u=n.getHours()+":"+n.getMinutes();$("#footer").show();$("#footertext").text("Impresso em : "+r+" - "+u);window.print()}function submitform(n){switch(n){case"NovoCliente":case"AlterarFornecedor":case"AlterarCliente":$("#cidade").val()!==null&&$("#cidade").val()!==""?$("#"+n).submit():msg("Campo cidade não pode estar em branco");break;case"NovaContaAreceber":case"NovaContaApagar":case"NovaParcelaAreceberr":var u=$("#noordem").val(),t=u.split("/"),i=parseInt(t[0]),r=parseInt(t[1]);if(i===0)return msg("Número da parcela não pode ser 0"),!1;if(r===0)return msg("Quantidade de parcelas não pode ser 0"),!1;if(i>r)return msg("Quantidade de parcelas menor que numero da parcela"),!1;$("#"+n).submit();break;default:$("#"+n).submit()}}function msg2(n){bootbox.alert({message:n,className:"bb-alternate-modal",size:"small"})}function msg(n){var t=bootbox.dialog({message:n,closeButton:!1});setTimeout(function(){t.modal("hide")},2e3)}function btd(n,t,i){var r="border:solid thin lightgray;";return t==="r"&&(r+="text-align:right;padding-right:5px;"),t==="c"&&(r+="text-align:center;"),typeof i!="undefined"&&(r+="width:"+i+";"),typeof t=="undefined"&&(r+="padding-left:5px;"),"<td style='"+r+"'>"+n+"<\/td>"}function titulo(n){return"<div>"+n+"<\/div><div style='height:10px;'><\/div>"}function InvertComa(n){var i=n.length,t=n.substr(0,i-3).replace(",",".").toString(),r=n.substr(t.length,3).replace(".",",").toString();return t.concat(r)}function PrintTable(n,t,i,r){var u=titulo(t),f,e;typeof i!="undefined"&&(u=titulo(t+" ("+i+"/"+r+")"));u+="<table style='width:100%;border-collapse:collapse;font-size:10px;'>";n==="#categorias"&&($(n).find("tr").each(function(){var n=$(this).find("th"),t=n.eq(1).text(),i=n.eq(2).text();t!==""&&(u+="<tr style='background-color:gray;'>"+btd(t)+btd(i,"c")+"<\/tr>")}),$(n).find("tr").each(function(){var n=$(this).find("td"),t=n.eq(1).text(),i=n.eq(2).text();t===""&&(u+="<tr>"+btd(t)+btd(i,"c")+"<\/tr>")}));n==="#clientes"&&($(n).find("tr").each(function(){var n=$(this).find("th"),t=n.eq(1).text(),i=n.eq(2).text(),r=n.eq(4).text(),f=n.eq(5).text(),e=n.eq(6).text();t!==""&&(u+="<tr style='background-color:gray;'>"+btd(t)+btd(i)+btd(r)+btd(f)+btd(e)+"<\/tr>")}),$(n).find("tr").each(function(){var n=$(this).find("td"),i=n.eq(1).text(),t=n.eq(2).text(),r=n.eq(4).text(),f=n.eq(5).text(),e=n.eq(6).text();t!==""&&(u+="<tr>"+btd(i)+btd(t)+btd(r)+btd(f)+btd(e)+"<\/tr>")}));n==="#comercial"&&($(n).find("tr").each(function(){var n=$(this).find("th"),t=n.eq(1).text(),i=n.eq(2).text(),r=n.eq(3).text();t!==""&&(u+="<tr style='background-color:gray;'>"+btd(t)+btd(i)+btd(r)+"<\/tr>")}),$(n).find("tr").each(function(){var n=$(this).find("td"),t=n.eq(1).text(),i=n.eq(2).text(),r=n.eq(3).text();t!==""&&(u+="<tr>"+btd(t)+btd(i)+btd(r,"r")+"<\/tr>")}));n==="#contaprs"&&(f=0,$(n).find("tr").each(function(){var n=$(this).find("th"),t=n.eq(2).text(),i=n.eq(3).text(),r=n.eq(4).text(),f=n.eq(5).text(),e=n.eq(6).text(),o=n.eq(7).text(),s=n.eq(8).text();c8=n.eq(9).text();t!==""&&(u+="<tr style='background-color:lightgray;'>"+btd(t)+btd(i)+btd(r)+btd(f)+btd(e)+btd(o,"c","6%")+btd(s,"c")+btd(c8)+"<\/tr>")}),$(n).find("tr").each(function(){var n=$(this).find("td"),t=n.eq(2).text(),r=n.eq(3).text(),e=n.eq(4).text(),i;c4=n.eq(5).text();c5=n.eq(6).text();c6=n.eq(7).text();c7=n.eq(8).text();c8=n.eq(9).text();c4!==""&&(i=parseFloat(c4.replace(".","").replace(",","").replace("R$","").replace(" ","")),f+=i/100);t!==""&&(u+="<tr>"+btd(t)+btd(r)+btd(e)+btd(c4,"r")+btd(c5,"c")+btd(c6,"c")+btd(c7,"c")+btd(c8)+"<\/tr>")}),u+="<tr>"+btd("")+btd("")+btd("Total","r")+btd("R$ "+InvertComa(f.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")),"r","12%")+btd("")+btd("")+btd("")+btd("")+"<\/tr>");n==="#contratos"&&($(n).find("tr").each(function(){var n=$(this).find("th"),t=n.eq(1).text(),i=n.eq(2).text(),r=n.eq(3).text();c4=n.eq(4).text();c5=n.eq(5).text();c6=n.eq(6).text();c7=n.eq(7).text();c8=n.eq(8).text();c9=n.eq(9).text();t!==""&&(u+="<tr style='background-color:gray;'>"+btd(t)+btd(i)+btd(r)+btd(c4)+btd(c5)+btd(c6)+btd(c7)+btd(c8)+btd(c9)+"<\/tr>")}),$(n).find("tr").each(function(){var n=$(this).find("td"),t=n.eq(1).text(),i=n.eq(2).text(),r=n.eq(3).text();c4=n.eq(4).text();c5=n.eq(5).text();c6=n.eq(6).text();c7=n.eq(7).text();c8=n.eq(8).text();c9=n.eq(9).text();t!==""&&(u+="<tr>"+btd(t)+btd(i)+btd(r)+btd(c4)+btd(c5)+btd(c6)+btd(c7)+btd(c8)+btd(c9)+"<\/tr>")}));(n==="#perfis"||n==="#tiposreembolso")&&($(n).find("tr").each(function(){var t=$(this).find("th"),n=t.eq(1).text();n!==""&&(u+="<tr style='background-color:gray;'>"+btd(n)+"<\/tr>")}),$(n).find("tr").each(function(){var t=$(this).find("td"),n=t.eq(1).text();n!==""&&(u+="<tr>"+btd(n)+"<\/tr>")}));n==="#produtos"&&($(n).find("tr").each(function(){var n=$(this).find("th"),t=n.eq(1).text(),i=n.eq(2).text();t!==""&&(u+="<tr style='background-color:gray;'>"+btd(t)+btd(i)+"<\/tr>")}),$(n).find("tr").each(function(){var n=$(this).find("td"),t=n.eq(1).text(),i=n.eq(2).text();t!==""&&(u+="<tr>"+btd(t)+btd(i,"r")+"<\/tr>")}));n==="#propostas"&&(f=0,e=0,$(n).find("tr").each(function(){var n=$(this).find("th"),t=n.eq(1).text(),i=n.eq(2).text(),r=n.eq(3).text();c4=n.eq(4).text();c5=n.eq(5).text();c6=n.eq(6).text();c7=n.eq(7).text();c8=n.eq(8).text();t!==""&&(u+="<tr style='background-color:gray;'>"+btd(t)+btd(i)+btd(r)+btd(c4)+btd(c5,"","15%")+btd(c6)+btd(c7)+"<\/tr>")}),$(n).find("tr").each(function(){var n=$(this).find("td"),t=n.eq(1).text(),o=n.eq(2).text(),s=n.eq(3).text(),i,r;c4=n.eq(4).text();c5=n.eq(5).text();c6=n.eq(6).text();c7=n.eq(7).text();c8=n.eq(8).text();c5!==""&&(i=parseFloat(c5.replace(".","").replace(",","").replace("R$","").replace(" ","")),f+=i/100);c6!==""&&(r=parseFloat(c6.replace(".","").replace(",","").replace("R$","").replace(" ","")),e+=r/100);t!==""&&(u+="<tr>"+btd(t)+btd(o)+btd(s)+btd(c4)+btd(c5,"r")+btd(c6,"r")+btd(c7,"c")+"<\/tr>")}),u+="<tr>"+btd("")+btd("")+btd("")+btd("Total","r")+btd("R$ "+InvertComa(f.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")),"r","12%","r")+btd("R$ "+InvertComa(e.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")),"r","12%")+btd("","c")+"<\/tr>");n==="#remuneracao"&&($(n).find("tr").each(function(){var n=$(this).find("th"),t=n.eq(1).text(),i=n.eq(2).text(),r=n.eq(3).text();c4=n.eq(4).text();c5=n.eq(5).text();c6=n.eq(6).text();c7=n.eq(7).text();c8=n.eq(8).text();c9=n.eq(9).text();c10=n.eq(10).text();t!==""&&(u+="<tr style='background-color:gray;'>"+btd(t,"","5%")+btd(i,"","14%")+btd(r,"","14%")+btd(c4,"","14%")+btd(c5,"","8%")+btd(c6,"","8%")+btd(c7,"","8%")+btd(c8)+btd(c9)+btd(c10,"c")+"<\/tr>")}),$(n).find("tr").each(function(){var n=$(this).find("td"),t=n.eq(1).text(),i=n.eq(2).text(),r=n.eq(3).text();c4=n.eq(4).text();c5=n.eq(5).text();c6=n.eq(6).text();c7=n.eq(7).text();c8=n.eq(8).text();c9=n.eq(9).text();c10=n.eq(10).text();t!==""&&(u+="<tr>"+btd(t)+btd(i)+btd(r)+btd(c4)+btd(c5,"r")+btd(c6,"r")+btd(c7,"r")+btd(c8,"r")+btd(c9,"c")+btd(c10,"c")+"<\/tr>")}));n==="#usuarios"&&($(n).find("tr").each(function(){var n=$(this).find("th"),t=n.eq(1).text(),i=n.eq(2).text(),r=n.eq(3).text();t!==""&&(u+="<tr style='background-color:gray;'>"+btd(t)+btd(i)+btd(r,"c")+"<\/tr>")}),$(n).find("tr").each(function(){var n=$(this).find("td"),t=n.eq(1).text(),i=n.eq(2).text(),r=n.eq(3).text();t!==""&&(u+="<tr>"+btd(t)+btd(i)+btd(r,"c")+"<\/tr>")}));n==="#tablereembolso"&&(f=0,$(n).find("tr").each(function(){var n=$(this).find("th"),t=n.eq(3).text(),i=n.eq(4).text(),r=n.eq(5).text(),f=n.eq(6).text(),e=n.eq(7).text();c6=n.eq(8).text();t!==""&&(u+="<tr style='background-color:gray;'>"+btd(t)+btd(i)+btd(r)+btd(f)+btd(e)+btd(c6)+"<\/tr>")}),$(n).find("tr").each(function(){var n=$(this).find("td"),e=n.eq(3).text(),i=n.eq(4).text(),o=n.eq(5).text(),s=n.eq(6).text(),t=n.eq(7).text(),r;c6=n.eq(8).text();i!==""&&(u+="<tr>"+btd(e)+btd(i)+btd(o)+btd(s)+btd(t,"r")+btd(c6,"c")+"<\/tr>");t!==""&&(r=parseFloat(t.replace(".","").replace(",","").replace("R$","").replace(" ","")),f+=r/100)}),u+="<tr>"+btd("")+btd("")+btd("")+btd("Total","r")+btd("R$ "+InvertComa(f.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")),"r","12%","r")+btd("","c")+"<\/tr>");u+="<\/table>";newWin=window.open("");newWin.document.write(u);newWin.print();newWin.close()}var ebs,Nfmt;Tools.prototype.AnimateIcons=()=>{AnimateY("#pagetitle"),$(".panel-default").slideDown(500),$(".topicons").fadeIn(1500)};Tools.prototype.Hoje=function(){var i=new Date;let t=i.getDate(),n=i.getMonth()+1,r=i.getFullYear();return t<10&&(t="0"+t.toString()),n<10&&(n="0"+n.toString()),console.log(n),t+"/"+n+"/"+r};Tools.prototype.Mask=function(){for(var n=0;n<arguments.length;n++)ebs.SetMask(arguments[n])};Tools.prototype.SetMask=n=>{var t=[{element:"valor",mask:"###0,00"},{element:"fone",mask:"(00) 0000-0000"},{element:"date",mask:"00/00/0000"},{element:"vencimento",mask:"00/00/0000"},{element:"cel",mask:"(00) 0-0000-0000"},{element:"cnpj",mask:"00.000.000/0000-00"},{element:"ie",mask:"0000000000"},{element:"f0800",mask:"0000-000000"},{element:"cep",mask:"00000-000"},{element:"noordem",mask:"00/00"},{element:"npar",mask:"00"},{element:"he",mask:"00000"},{element:"previsao",mask:"00000"}].filter(t=>t.element===n);n==="valor"?$("#"+t[0].element).maskMoney({allowNegative:!1,thousands:".",decimal:",",affixesStay:!1}):$("#"+t[0].element).mask(t[0].mask)};Tools.prototype.SetValorMask=n=>$(n).maskMoney({prefix:"R$ ",allowNegative:!1,thousands:".",decimal:",",affixesStay:!1});Tools.prototype.SetFoneMask=n=>$(n).mask("(00) 0000-0000");Tools.prototype.SetDateMask=n=>$(n).mask("00/00/0000");Tools.prototype.SetCelFoneMask=n=>$(n).mask("(00) 0-0000-0000");Tools.prototype.SetCnpjMask=n=>$(n).mask("00.000.000/0000-00");Tools.prototype.SetCepMask=n=>$(n).mask("00000-000");Tools.prototype.SetIeMask=n=>$(n).mask("0000000000");Tools.prototype.Set0800Mask=n=>$(n).mask("0000-000000");Tools.prototype.SetSelectValue=(n,t)=>document.getElementById(n).value=t.toString();Tools.prototype.SelectWhenChangeSubmit=function(n,t){$(n).change(function(){t&&DownloadFalse();this.form.submit()})};Tools.prototype.PopDropDown=function(n,t){var i=[{dropdown:"clientes",url:"/ContaPrs/GetCliFor"},{dropdown:"clienteid",url:"/Contratos/PopulateClientesWithProposta"},{dropdown:"cliforid",url:"/ContaPrs/GetCliFor"},{dropdown:"fornecedores",url:"/ContaPrs/GetCliFor"},{dropdown:"categorias",url:"/ContaPRs/PopulateCategorias"},{dropdown:"categoriaid",url:"/ContaPRs/PopulateCategorias"},{dropdown:"responsaveis",url:"/Propostas/GetResponsaveis"},{dropdown:"indice",url:"/Contratos/PopulateIndices"}].filter(t=>t.dropdown===n);$.ajax({cache:!1,type:"POST",url:i[0].url,data:t[0],success:function(n){var t=$("#"+i[0].dropdown);t.empty();t.append("<option><\/option>");$.each(n,function(n,i){t.append('<option value="'+i[Object.keys(i)[0]]+'">'+i[Object.keys(i)[1]]+"<\/option>")})},error:function(){}})};Tools.prototype.Set_DatePicker=function(){$(".input-group.date").datepicker({format:"dd/mm/yyyy",language:"pt-BR",weekStart:0,autoclose:!0,todayHighlight:!0})};Tools.prototype.Search=function(n,t,i,r){for(var o,e,s,f=document.getElementById(n),u=0;u<f.rows.length;u++){for(o=!1,e=i;e<=r;e++)if(s=f.rows[u].cells[e].innerHTML,s.indexOf(t)>=0){o=!0;break}f.rows[u].style.display=o?"":"none"}};Tools.prototype.MesExtenso=function(n){return["","Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"][n]};Tools.prototype.MesCorrente=function(){return parseInt((new Date).getMonth())};Tools.prototype.AnoCorrente=function(){return(new Date).getFullYear()};Tools.prototype.IsNull=n=>n.trim().length<1||n==="unidefined";ebs=new Tools;Fmt.prototype.ToDecimal=n=>{try{return Number(parseFloat(n)).toFixed(2).toString()}catch(t){return n.toString()}};Fmt.prototype.StrToDecimal=n=>{try{parseFloat(n.replace(".","").replace(",",".").toFixed(2))}catch(t){return n.toString()}};Fmt.prototype.ToMoney=n=>{try{return parseFloat(n).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}).toString().replace("R$","").trim()}catch(t){return n.toString()}};Nfmt=new Fmt;